{"version":3,"sources":["index.js"],"names":["mainNode","document","querySelector","switchLanguageButton","loadNextPageButton","submitSearchButton","language","searchTerm","pageSize","displayDataOnPage","newsStories","console","log","articlesArr","articles","articleKeys","Object","keys","forEach","article","createStory","displayErrorToUser","error","createTitle","title","url","createImg","image","createDescription","description","createTimeCountry","time","country","currentDateTime","Date","className","node","createElement","storyHTML","urlToImage","publishedAt","innerHTML","appendChild","loadAPI","fetch","then","response","json","body","catch","addEventListener","event","currentLanguage"],"mappings":"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","file":"responsive-news-reader.a140e609.map","sourceRoot":"..","sourcesContent":["// elements avilable on page\nconst mainNode = document.querySelector(\"main\");\nconst switchLanguageButton = document.querySelector(\"#switch-languages\");\nconst loadNextPageButton = document.querySelector(\"#load-next-page\");\nconst submitSearchButton = document.querySelector(\"#search\");\n\n// Global variabel defaults to pass into API.\nlet language = \"en\";\nvar searchTerm = \"UK\";\nvar pageSize = 10;\n\n// Breaking out API object to display\nfunction displayDataOnPage(newsStories) {\n  console.log(newsStories);\n  const articlesArr = newsStories.articles;\n  const articleKeys = Object.keys(articlesArr[0]);\n  //console.log(articleKeys);\n  articlesArr.forEach(function(article) {\n    //  console.log(article.title);\n    //  trigger the creation of a story for each node\n    createStory(article);\n  });\n}\n// Show if error with API call\nfunction displayErrorToUser(error) {\n  createStory(error);\n}\n\n//Create story componenets\nconst createTitle = function(title, url) {\n  return `<a href=\"${url}\"><h2>${title}</h2></a>`;\n};\n\nconst createImg = function(image) {\n  return `<img src=\"${image}\">`;\n};\n\nconst createDescription = function(description) {\n  return `<p>${description}</p>`;\n};\n\nconst createTimeCountry = function(time, country) {\n  let currentDateTime = new Date();\n  return `<p>${time} | ${country}</p>`;\n};\n//Assemble story componenets\nconst createStory = function(article, className = \"story\") {\n  const node = document.createElement(\"div\");\n  const storyHTML = `<div class=\"article-img\"><a href=\"${\n    article.url\n  }\">${createImg(\n    article.urlToImage\n  )}</a></div><div class=\"article-text\">${createTitle(\n    article.title,\n    article.url\n  )}\n  ${createDescription(article.description)}${createTimeCountry(\n    article.publishedAt,\n    article.country\n  )}</div>`;\n  node.className = className;\n  node.innerHTML = storyHTML;\n  mainNode.appendChild(node);\n  //console.log(storyHTML);\n};\n\n// fetch news api\nconst loadAPI = function(language, searchTerm, pageSize) {\n  mainNode.innerHTML = \"\";\n\n  fetch(\n    `https://newsapi.org/v2/everything?q=${searchTerm}&pageSize=${pageSize}&language=${language}&domains\n=bbc.co.uk&apiKey=ca8681b5ce9447468962c7f40280c85f`\n  )\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(body) {\n      displayDataOnPage(body);\n    })\n    .catch(function(error) {\n      displayErrorToUser(error);\n    });\n};\n\n//// Features that happen on event listen\n\n//Switch the language\nswitchLanguageButton.addEventListener(\"click\", function(event) {\n  let currentLanguage = \"en\";\n  if (currentLanguage === \"en\") {\n    currentLanguage = \"es\";\n  }\n\n  if (currentLanguage === \"es\") {\n    currentLanguage = \"en\";\n  }\n\n  console.log(currentLanguage);\n  language = currentLanguage;\n  loadAPI(language, searchTerm, pageSize);\n});\n\n// load in 10 more results\nloadNextPageButton.addEventListener(\"click\", function(event) {\n  console.log(\"Loading more results\");\n});\n\n// submit a search query to the API\nsubmitSearchButton.addEventListener(\"submit\", function(event) {\n  console.log(\"Search submited\");\n  console.log(event);\n});\n"]}