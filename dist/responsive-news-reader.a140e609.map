{"version":3,"sources":["index.js"],"names":["mainNode","document","querySelector","displayDataOnPage","newsStories","articlesArr","articles","articleKeys","Object","keys","forEach","article","createStory","displayErrorToUser","error","loadAPI","fetch","then","response","json","body","catch","createTitle","title","createImg","image","createDescription","description","createTimeCountry","time","country","currentDateTime","Date","className","node","createElement","storyHTML","urlToImage","publishedAt","innerHTML","appendChild","console","log","switchCountryButton","addEventListener","event"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,WAAWC,SAASC,aAAT,CAAuB,MAAvB,CAAjB;;AAEA,SAASC,iBAAT,CAA2BC,WAA3B,EAAwC;AACtC,MAAMC,cAAcD,YAAYE,QAAhC;AACA,MAAMC,cAAcC,OAAOC,IAAP,CAAYJ,YAAY,CAAZ,CAAZ,CAApB;AACA;AACAA,cAAYK,OAAZ,CAAoB,UAASC,OAAT,EAAkB;AACpC;AACA;AACAC,gBAAYD,OAAZ;AACD,GAJD;AAKD;;AAED,SAASE,kBAAT,CAA4BC,KAA5B,EAAmC;AACjCF,cAAYE,KAAZ;AACD;;AAED;AACA,IAAMC,UAAU,SAAVA,OAAU,GAAW;AACzBC,QACE,2GADF,EAGGC,IAHH,CAGQ,UAASC,QAAT,EAAmB;AACvB,WAAOA,SAASC,IAAT,EAAP;AACD,GALH,EAMGF,IANH,CAMQ,UAASG,IAAT,EAAe;AACnBjB,sBAAkBiB,IAAlB;AACD,GARH,EASGC,KATH,CASS,UAASP,KAAT,EAAgB;AACrBD,uBAAmBC,KAAnB;AACD,GAXH;AAYD,CAbD;;AAeA,IAAMQ,cAAc,SAAdA,WAAc,CAASC,KAAT,EAAgB;AAClC,kBAAcA,KAAd;AACD,CAFD;;AAIA,IAAMC,YAAY,SAAZA,SAAY,CAASC,KAAT,EAAgB;AAChC,yBAAoBA,KAApB;AACD,CAFD;;AAIA,IAAMC,oBAAoB,SAApBA,iBAAoB,CAASC,WAAT,EAAsB;AAC9C,iBAAaA,WAAb;AACD,CAFD;;AAIA,IAAMC,oBAAoB,SAApBA,iBAAoB,CAASC,IAAT,EAAeC,OAAf,EAAwB;AAChD,MAAIC,kBAAkB,IAAIC,IAAJ,EAAtB;AACA,iBAAaH,IAAb,WAAuBC,OAAvB;AACD,CAHD;;AAKA,IAAMlB,cAAc,SAAdA,WAAc,CAASD,OAAT,EAAuC;AAAA,MAArBsB,SAAqB,uEAAT,OAAS;;AACzD,MAAMC,OAAOjC,SAASkC,aAAT,CAAuB,KAAvB,CAAb;AACA,MAAMC,iBAAeZ,UAAUb,QAAQ0B,UAAlB,CAAf,GAA+Cf,YACnDX,QAAQY,KAD2C,CAA/C,YAGJG,kBAAkBf,QAAQgB,WAA1B,CAHI,GAGqCC,kBACzCjB,QAAQ2B,WADiC,EAEzC3B,QAAQmB,OAFiC,CAH3C;AAOAI,OAAKD,SAAL,GAAiBA,SAAjB;AACAC,OAAKK,SAAL,GAAiBH,SAAjB;AACApC,WAASwC,WAAT,CAAqBN,IAArB;AACAO,UAAQC,GAAR,CAAYN,SAAZ;AACD,CAbD;;AAeA;AACA,IAAMO,sBAAsB1C,SAASC,aAAT,CAAuB,mBAAvB,CAA5B;;AAEAyC,oBAAoBC,gBAApB,CAAqC,OAArC,EAA8C,UAASC,KAAT,EAAgB,CAAE,CAAhE;;AAEA;AACA9B","file":"responsive-news-reader.a140e609.map","sourceRoot":"..","sourcesContent":["const mainNode = document.querySelector(\"main\");\n\nfunction displayDataOnPage(newsStories) {\n  const articlesArr = newsStories.articles;\n  const articleKeys = Object.keys(articlesArr[0]);\n  //console.log(articleKeys);\n  articlesArr.forEach(function(article) {\n    //  console.log(article.title);\n    //  trigger the creation of a story for each node\n    createStory(article);\n  });\n}\n\nfunction displayErrorToUser(error) {\n  createStory(error);\n}\n\n// fetch news api\nconst loadAPI = function() {\n  fetch(\n    \"https://newsapi.org/v2/top-headlines?sortBy=popularity&apiKey=ca8681b5ce9447468962c7f40280c85f&country=gb\"\n  )\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(body) {\n      displayDataOnPage(body);\n    })\n    .catch(function(error) {\n      displayErrorToUser(error);\n    });\n};\n\nconst createTitle = function(title) {\n  return `<h1>${title}</h1>`;\n};\n\nconst createImg = function(image) {\n  return `<img src=\"${image}\">`;\n};\n\nconst createDescription = function(description) {\n  return `<p>${description}</p>`;\n};\n\nconst createTimeCountry = function(time, country) {\n  let currentDateTime = new Date();\n  return `<p>${time} | ${country}</p>`;\n};\n\nconst createStory = function(article, className = \"story\") {\n  const node = document.createElement(\"div\");\n  const storyHTML = `${createImg(article.urlToImage)}${createTitle(\n    article.title\n  )}\n  ${createDescription(article.description)}${createTimeCountry(\n    article.publishedAt,\n    article.country\n  )}`;\n  node.className = className;\n  node.innerHTML = storyHTML;\n  mainNode.appendChild(node);\n  console.log(storyHTML);\n};\n\n//switch countries we are fetching news from\nconst switchCountryButton = document.querySelector(\"#switch-countries\");\n\nswitchCountryButton.addEventListener(\"click\", function(event) {});\n\n// initiate loading of news api\nloadAPI();\n"]}